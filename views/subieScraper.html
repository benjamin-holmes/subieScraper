<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <style media="screen">
      .ad {
        text-align: center;
        background-color: lightgrey;
        width: auto;
        margin: auto;
        padding: 10px;
        border-style: solid;
        border-width: 1px;
      }
      .listContainer {
        display: grid;
        grid-template-columns: 45% 45%;
        background-color: lightblue;
        margin: 35px;
        padding: 10px;
      }
      img {
        height: auto;
        width: auto;
        margin: auto;
        padding: 10px;
      }
    </style>
    <meta charset="utf-8">
    <script
      src="https://code.jquery.com/jquery-2.2.4.js"
      integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
      crossorigin="anonymous">
    </script>
    <script type="text/javascript">
      "use strict";
      $(function() {
        console.log("page loaded");
        let $container = $('div');
        console.log($container);
        $.post('/subieScraper/getAds', (data) => {
          let ads = JSON.parse(data);
          ads.forEach((ad) => {
            // Create and append new ad
            $container.append($(`<div class="ad"><h3>${ad.title}</h3><img src="${ad.image}" alt=""><p><b>${ad.price} - <a href="${ad.link}">Go to listing</a></b></p></div>`));
          });
        });
      });
    </script>
    <title>SubieScraper</title>
  </head>
  <body>
    <h1>SubieScraper</h1>
    <h2>Current Subaru Ads</h2>
    <div class="listContainer">

    </div>
  </body>
</html>
