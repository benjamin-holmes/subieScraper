<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <style media="screen">
      .ad {
        background-color: pink;
        width: 600px;
      }
      img {
        margin: auto;
        padding: auto;
      }
    </style>
    <meta charset="utf-8">
    <script
      src="https://code.jquery.com/jquery-2.2.4.js"
      integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
      crossorigin="anonymous">
    </script>
    <script type="text/javascript">
      "use strict";
      $(function() {
        console.log("page loaded");
        $.post('/subieScraper/getAds', (data) => {
          let ads = JSON.parse(data);
          ads.forEach((ad) => {
            // Create and append new ad
            console.log(ads.length);
            $('body').after($(
            `<div class="ad">
              <h3">${ad.title}</h3>
              <img src="${ad.image}" alt="">
              <ul>
                <li>${ad.price}</li>
                <li><a href=${ad.link}>Link</a></li>
              </ul>
            </div>`
            ));
          });
        });
      });
    </script>
    <title>SubieScraper</title>
  </head>
  <body>
    <h1>SubieScraper</h1>
    <div id="listContainer">
      <h2>Current Subaru Ads</h2>
      <ul id="subaruList">

      </ul>
    </div>
  </body>
</html>
